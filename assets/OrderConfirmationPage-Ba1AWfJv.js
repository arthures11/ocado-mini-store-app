import{w as c}from"./with-props-DVVsAxuH.js";import{a as s,o as e}from"./chunk-D4RADZKF-5GD_Vqhz.js";import{g as d,f as m}from"./priceUtils-B0uR9NUr.js";const x=()=>{const[r,i]=s.useState(null),[a,n]=s.useState(null);return s.useEffect(()=>{const t=localStorage.getItem("finalizedOrder");if(t)try{const o=JSON.parse(t);i(o)}catch{n("There was an issue retrieving your order details."),localStorage.removeItem("finalizedOrder")}else n("No order details found. Your order might have been processed, or you've navigated here directly.")},[]),a?e.jsxs("div",{className:"container mx-auto p-6 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-red-600 mb-4",children:"Order Confirmation Issue"}),e.jsx("p",{className:"text-xl text-white mb-6",children:a}),e.jsx("button",{onClick:()=>window.location.href="/ocado-mini-store-app/",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded text-lg transition duration-150 inline-block",children:"Back to Product List"})]}):r?(localStorage.removeItem("finalizedOrder"),e.jsxs("div",{className:"container mx-auto p-6 bg-white shadow-xl rounded-lg max-w-2xl text-center my-8",children:[e.jsx("svg",{className:"w-16 h-16 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h1",{className:"text-3xl font-bold text-green-600 mb-4",children:"Order Placed Successfully!"}),e.jsxs("div",{className:"text-left my-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-3 border-b pb-2",children:"Your Order Summary:"}),e.jsx("ul",{className:"list-disc list-inside space-y-1 mb-4",children:r.items.map(t=>{const l=d(t.price)*t.quantity;return e.jsxs("li",{className:"py-1",children:[t.name," (x",t.quantity,") - $",m(t.price)," each = ",e.jsxs("span",{className:"font-semibold",children:["$",l.toFixed(2)]})]},t.id)})}),e.jsx("div",{className:"mt-4 pt-3 border-t",children:e.jsxs("p",{className:"text-xl font-bold text-right",children:["Total Cost: ",e.jsxs("span",{className:"text-green-600",children:["$",r.total.toFixed(2)]})]})})]}),e.jsxs("p",{className:"text-lg mb-6",children:["Thank you for your purchase. Order placed at: ",new Date(r.timestamp).toLocaleString()]}),e.jsx("button",{onClick:()=>window.location.href="/ocado-mini-store-app/",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded text-lg transition duration-150 inline-block",children:"Back to Product List"})]})):e.jsxs("div",{className:"container mx-auto p-6 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Loading Order Confirmation..."}),e.jsx("p",{children:"If this takes too long, please try returning to the product list."}),e.jsx("button",{onClick:()=>window.location.href="/ocado-mini-store-app/",className:"mt-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded text-lg transition duration-150 inline-block",children:"Back to Product List"})]})},b=c(x);export{b as default};
